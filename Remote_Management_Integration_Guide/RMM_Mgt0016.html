<!DOCTYPE html PUBLIC "http://www.w3.org/TR/REC-html40/strict.dtd">
<!-- saved from url=(0014)about:internet -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Including the OAuth token in calls to web services</title>
<link rel="stylesheet" href="wghelp.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.68.1">
<META name="CONTENT_SOURCE_ID" content="v72380487">
<META name="CONTENT_SOURCE_REVISION" content="08102012134516">
<META name="HELP_ID" content="/NULL/">
<script type="text/javascript" language="Javascript1.2" src="wwhdata/common/context.js"></script><script type="text/javascript" language="Javascript1.2" src="wwhdata/common/towwhdir.js"></script><script type="text/javascript" language="Javascript1.2" src="wwhdata/common/wwhpagef.js"></script><script type="text/javascript" language="Javascript1.2" src="wwhdata/common/context.js"></script><script><!--
//
// Set reference to top level help frame
var  WWHFrame = WWHGetWWHFrame("");
//
// Update reference to top level help frame
var  WWHelpTopFrame = eval("parent");
//
  if (document.layers) {
  window.onresize = reloadpage;
  }
  
  function reloadpage() {
  document.location = document.location;
  }

  function setPixelLoc() {
  }
//
--></script><!--Copyright 1999-2012 Symantec Corporation -->
</head>
<body bgcolor="#FFFFFF" text="black" link="#0000FF" vlink="#840084" alink="#0000FF" onLoad="WWHUpdate();">
<script type="text/javascript" language="JavaScript"><!--
      function  WWHUpdateFavorite(ParamHREF)
    {
      if ((WWHelpTopFrame != null) &&
          (WWHelpTopFrame.WWHelpFrameSet != null))
      {
        WWHelpTopFrame.WWHelpFrameSet.fUpdateFavorite(ParamHREF);
      }
    }

    function  WWHSyncTOC(ParamHREF)
    {
      if ((WWHelpTopFrame != null) &&
          (WWHelpTopFrame.WWHelpFrameSet != null))
      {
        WWHelpTopFrame.WWHelpFrameSet.fSyncTOC(ParamHREF);
      }
    }

    function  WWHShowPopup(ParamContext,
                           ParamLink,
                           ParamEvent)
    {
      if ((WWHelpTopFrame != null) &&
          (WWHelpTopFrame.WWHelpFrameSet != null))
      {
        if ((ParamEvent == null) &&
            (window.event != null))
        {
          ParamEvent = window.event;  // Older IE browsers only store event in window.event
        }

        WWHelpTopFrame.WWHelpFrameSet.fShowPopup(ParamContext, ParamLink, ParamEvent);
      }
    }

    function  WWHHidePopup()
    {
      if ((WWHelpTopFrame != null) &&
          (WWHelpTopFrame.WWHelpFrameSet != null))
      {
        WWHelpTopFrame.WWHelpFrameSet.fHidePopup();
      }
    }

    function  WWHClickedPopup(ParamContext,
                              ParamLink)
    {
      if ((WWHelpTopFrame != null) &&
          (WWHelpTopFrame.WWHelpFrameSet != null))
      {
        location.href = WWHelpTopFrame.WWHelpFrameSet.fClickedPopup(ParamContext, ParamLink);
      }
    }
--></script><script type="text/javascript" language="JavaScript"><!--
      var  WWHelpHREF = location.href;
      WWHUpdateFavorite(WWHelpHREF);
     // 
--></script><div class="section" lang="EN_US">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="v72380487"></a>Including the OAuth token in calls to web services</h2></div></div></div>
<p><a name="v72380490"></a>After an OAuth access token is obtained, it must be included in every call that is made to the Symantec Endpoint Protection web services. The access token and its accompanying refresh token should be cached for reuse. The access token has a lifetime (expiration) of 12 hours. When the access token expires, the refresh token can be used to obtain a new access token. See <a href="RMM_Mgt0017.html" title="Refreshing the access token">Refreshing the access token</a>.</p>
<p><a name="v72433502"></a>You can include the token in an <span xmlns:stbl="http://nwalsh.com/xslt/ext/com.nwalsh.saxon.Table" xmlns:xtbl="com.nwalsh.xalan.Table" xmlns:ptbl="http://nwalsh.com/xslt/ext/xsltproc/python/Table" class="command">access_token</span> query parameter, as in the following example:</p>
<p><a name="v78061400"></a><span xmlns:stbl="http://nwalsh.com/xslt/ext/com.nwalsh.saxon.Table" xmlns:xtbl="com.nwalsh.xalan.Table" xmlns:ptbl="http://nwalsh.com/xslt/ext/xsltproc/python/Table" class="command">GET https://<i class="replaceable">&lt;hostname&gt;</i>:<i class="replaceable">&lt;port_number&gt;</i>/sepm/ws/v1/LicenseService?access_token=<i class="replaceable">&lt;access_token&gt;</i></span></p>
<p><a name="v78061401"></a>For security reasons, however, we recommend that you include the access token as part of the HTTP header, in the form of <span xmlns:stbl="http://nwalsh.com/xslt/ext/com.nwalsh.saxon.Table" xmlns:xtbl="com.nwalsh.xalan.Table" xmlns:ptbl="http://nwalsh.com/xslt/ext/xsltproc/python/Table" class="command">Authorization: Bearer</span>.</p>
<p><a name="v72433509"></a><span class="guilabel">Example header</span></p>
<a name="v72433510"></a><pre class="programlisting">POST http://localhost:8014/sepm/ws/v1/LicenseService HTTP/1.1
Accept-Encoding: gzip,deflate
Content-Type: text/xml;charset=UTF-8
SOAPAction: ""
<span class="guilabel">Authorization: Bearer</span> <i class="replaceable">access_token</i>
User-Agent: Jakarta Commons-HttpClient/3.1
Host: localhost:8014
Content-Length: 252
</pre>
<p><a name="v72433499"></a>See <a href="RMM_Mgt0015.html" title="Getting an OAuth access token from the authorization code">Getting an OAuth access token from the authorization code</a>.</p>
<p><a name="v75149839"></a>See <a href="RMM_Mgt0012.html" title="Using OAuth with Symantec Endpoint Protection Manager web services">Using OAuth with Symantec Endpoint Protection Manager web services</a>.</p>
<p><a name="v72433511"></a>See <a href="RMM_Mgt0018.html" title="OAuth implementation reference">OAuth implementation reference</a>.</p>
<p><a name="v75109376"></a>See <a href="RMM_Mgt0011.html" title="OAuth flow">OAuth flow</a>.</p>
</div>
</body>
</html>
